<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <title>JS</title>
    <script>
        var count = 1;
        function onDocumentFinish(){
            var createdBy = window.prompt('Who are you ?');
            document.getElementById("efg").innerHTML = 'Created By ' + createdBy;
            document.getElementById('formSubmit').onsubmit = function(form){
                form.preventDefault();
                let item = {
                    name: '',
                    address: '',
                    number: '',
                    category: '',
                    isItemValid: function(){
                        if(this.name !== '' && this.number !== '' && this.description !== '' && this.category !== ''){
                            return true;
                        }
                        return false;   
                    },
                    addToTable: function(){
                        const tbody = document.getElementById('tableItem').querySelector('tbody');
                        const newRow = document.createElement("tr");

                        const nameCol = document.createElement("td");
                        nameCol.appendChild(document.createTextNode(this.name));

                        const categoryCol = document.createElement("td");
                        categoryCol.appendChild(document.createTextNode(this.category));

                        const numberCol = document.createElement("td");
                        numberCol.appendChild(document.createTextNode(this.number));

                        const addressCol = document.createElement("td");
                        addressCol.appendChild(document.createTextNode(this.address));

                        const createdByCol = document.createElement("td");
                        createdByCol.appendChild(document.createTextNode(createdBy));

                        newRow.appendChild(nameCol);
                        newRow.appendChild(addressCol);
                        newRow.appendChild(numberCol);
                        newRow.appendChild(categoryCol);

                        tbody.appendChild(newRow);
                    },
                    fillProperty: function(datasource){
                        item.name = datasource.target['Name'].value;
                        item.address = datasource.target['Address'].value;
                        item.number = datasource.target['Price'].value;
                        item.category = datasource.target['Category'].value;
                    }
                }
                item.fillProperty(form);
                if(item.isItemValid()){
                    count += 1;
                    document.getElementById("asd").innerHTML = "Jumlah Data sekarang: " + count;
                    document.getElementById('formSubmit').reset();
                    item.addToTable();
                } else {
                    alert("All fields must not empty");
                }
            }
        }
    </script>
</head>

<body onload="onDocumentFinish()">

    <div class="col-12">

        <div class="col-12 header">
            <h1 id="asd">Jumlah Data Sekarang : 2</h1>
        </div>
        <div class="col-4">
        </div>
        <div class="col-4 center">
            <div class="col-12">
                <table id="tableItem" class="col-12">
                    <thead>
                        <tr>
                            <th>Nama</th>
                            <th>Alamat</th>
                            <th>Nomor Telepon</th>
                            <th>Status Hubungan</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Budi</td>
                            <td>Jl. Pencerdasan Bangsa Timur No.2 Kelurahan teluk segera, Bengkulu</td>
                            <td>0852837296525</td>
                            <td>Banyak pacar</td>
                        </tr>
                        <tr>
                            <td>Wati</td>
                            <td>Jl. jendral sudirman No. 8, RT 2 RW 3 Kelurahan Sumur Meleleh, Tanggerang</td>
                            <td>0859232356</td>
                            <td>Setia Pada Satu</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="col-12">
            <form id="formSubmit" onsubmit="submitItem()">

                <label for="Name">Name</label>
                <input type="text" name="Name" id="Name"/>

                <label for="Address">Address</label>
                <input type="text" name="Address" id="Address"/>

                <label for="Price">Phone Number</label>
                <input type="number" name="Price" id="Price"/>

                <label for="Category">Category</label>
                <select name="Category" id="Category">
                    <option value="Setia Pada Satu">Setia Pada Satu</option>
                    <option value="Banyak Pacar">Banyak Pacar</option>
                    <option value="Jomblo">Jomblo</option>
                    <option value="Jomblo Akut">Jomblo Akut</option>
                    <option value="Ngaku Punya Pacar">Ngaku Punya Pacar</option>
                </select>
                <input type="submit" id="btnSubmit" value="Submit"/>
            </form>
    
        <div class="col-12 footer">
            <h1 id="efg"></h1>
        </div>
        </div>
</body>
</html>